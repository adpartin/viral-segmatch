# Bunyavirales bundle - with training and virus-specific overrides
# This is the default bundle for Bunyavirales.
defaults:
  - /virus: bunya
  - /embeddings: default
  - /dataset: default
  - /training: base
  - _self_  # Bundle overrides loaded AFTER base configs

# ==============================================================================
# SEED MANAGEMENT
# ==============================================================================
# Hierarchical seed system for reproducibility:
# - master_seed: Single seed that generates all process-specific seeds
# - process_seeds: Override specific stages (null = derive from master_seed)
# 
# Examples:
#   master_seed: 42, process_seeds.preprocessing: null → preprocessing uses derived seed
#   master_seed: 42, process_seeds.preprocessing: 123 → preprocessing uses 123
#   master_seed: null, process_seeds.preprocessing: 42 → only preprocessing reproducible
#   master_seed: null → all processes use random seeds (non-reproducible)
#
# See docs/SEED_SYSTEM.md for detailed documentation

master_seed: 42  # Master seed for full pipeline reproducibility (null = random)

# Process-specific seeds (null = derive from master_seed)
process_seeds:
  preprocessing: null  # Data sampling and preprocessing
  embeddings: null     # ESM-2 embedding computation
  dataset: null        # Dataset splitting and augmentation
  training: null       # Model training and initialization
  evaluation: null     # Evaluation sampling and metrics

# ==============================================================================
# DATA SAMPLING
# ==============================================================================
# Controls how many GTO files to process from the raw data directory
# - null: Process ALL files (full dataset)
# - integer: Process this many files (sampled according to preprocessing seed)

max_files_to_process: null  # null = full dataset, or set to 100, 500, etc.

# ==============================================================================
# DIRECTORY NAMING
# ==============================================================================
# Optional manual override for output directory suffix
# - null: Auto-generate suffix from max_files_to_process and seed
# - string: Use this exact suffix (e.g., '_v2')

# run_suffix: null
run_suffix: "_v2"

# Virus-specific embeddings overrides
embeddings:
  batch_size: 16
  use_selected_only: false  # Use all proteins (no selected_functions for Bunya)

# Dataset-specific overrides
dataset:
  use_selected_only: false  # Use all proteins (no selected_functions defined for Bunya)

# Virus-specific training overrides
training:
  batch_size: 128  # Use smaller batches for longer sequences
