# Flu schema-ordered dataset: HA (slot A) â†’ NA (slot B)
# Validation-mode dataset variant to remove "direction" as a free variable while
# keeping directed features like [emb_a, emb_b] consistent by construction.
#
# Notes:
# - We use the exact function strings from `conf/bundles/flu.yaml` / protein_final.csv.
# - No metadata filters (host/year/subtype/etc).
# - General case: use all isolates (no MAX isolates cap).

defaults:
  - flu
  - _self_

dataset:
  pair_mode: schema_ordered
  schema_pair:
    - "Hemagglutinin precursor"
    - "Neuraminidase protein"

  # Explicitly keep metadata filters off (should already be null in defaults)
  host: null
  year: null
  hn_subtype: null
  geo_location: null
  passage: null

training:
  eval_swapped_test: true

  # # Legacy
  # input_mode: "interaction" # interaction | raw
  # use_concat: true
  # use_diff: false
  # use_prod: false

  # New
  input_mode: raw # interaction | raw
  interaction: concat # concat | diff | prod | concat+diff+prod
  pre_mlp_mode: none # immediate interaction between the two embeddings
